# Accounts Flow ğŸ¦

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ä¸ªäººè´¢åŠ¡ç®¡ç† Flutter åº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·è·Ÿè¸ªå¤šä¸ªè´¦æˆ·ã€è®°å½•äº¤æ˜“è®°å½•å¹¶å¯è§†åŒ–è´¢åŠ¡çŠ¶å†µã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ’° è´¦æˆ·ç®¡ç†
- æ”¯æŒå¤šç§è´¦æˆ·ç±»å‹ï¼šé“¶è¡Œå¡ã€æ•°å­—é’±åŒ…ã€è‚¡ç¥¨è´¦æˆ·ã€ä¿¡ç”¨å¡ã€ç°é‡‘ã€æŠ•èµ„è´¦æˆ·
- è‡ªå®šä¹‰è´¦æˆ·é¢œè‰²å’Œå›¾æ ‡
- å®æ—¶ä½™é¢è®¡ç®—å’Œæ˜¾ç¤º
- è´¦æˆ·è¯¦ç»†ä¿¡æ¯æŸ¥çœ‹

### ğŸ“Š äº¤æ˜“è®°å½•
- æ”¯æŒæ”¶å…¥ã€æ”¯å‡ºã€è½¬è´¦ä¸‰ç§äº¤æ˜“ç±»å‹
- è‡ªåŠ¨æ›´æ–°è´¦æˆ·ä½™é¢
- äº¤æ˜“å†å²è®°å½•æŸ¥çœ‹
- äº¤æ˜“åˆ†ç±»å’Œå¤‡æ³¨åŠŸèƒ½

### ğŸ“ˆ æ•°æ®å¯è§†åŒ–
- ä½¿ç”¨ fl_chart ç»˜åˆ¶ä½™é¢è¶‹åŠ¿å›¾è¡¨
- å†å²ä½™é¢è®°å½•å’Œå±•ç¤º
- è‡ªåŠ¨æ¯å‘¨å…­è®°å½•ä½™é¢æ•°æ®
- å¤šæ—¶é—´æ®µæ•°æ®å¯¹æ¯”

### ğŸ  ä¸»ç•Œé¢
- æ ‡ç­¾é¡µå¯¼èˆªï¼ˆæ¦‚è§ˆã€è¡¨æ ¼ã€è®¾ç½®ï¼‰
- æ€»èµ„äº§æ¦‚è§ˆå’Œè´¦æˆ·åˆ—è¡¨
- å†å²ä½™é¢è¡¨æ ¼è§†å›¾
- è´¦æˆ·ç®¡ç†å’Œåº”ç”¨è®¾ç½®

### ğŸ’¾ æ•°æ®ç®¡ç†
- SQLite æ•°æ®åº“æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨
- è‡ªåŠ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤
- å®Œæ•´çš„äº‹åŠ¡æ”¯æŒä¿è¯æ•°æ®ä¸€è‡´æ€§
- ç»“æ„åŒ–æ—¥å¿—ç³»ç»Ÿç”¨äºè°ƒè¯•å’Œç›‘æ§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Flutter SDK >= 3.0.0
- Dart SDK >= 2.17.0
- æ”¯æŒå¹³å°ï¼šiOSã€Androidã€Webã€macOSã€Windows

### å®‰è£…ä¾èµ–
```bash
flutter pub get
```

### è¿è¡Œåº”ç”¨
```bash
# è°ƒè¯•æ¨¡å¼è¿è¡Œ
flutter run

# æŒ‡å®šå¹³å°è¿è¡Œ
flutter run -d chrome      # Web
flutter run -d macos       # macOS
flutter run -d windows     # Windows
flutter run -d android     # Android
flutter run -d ios         # iOS
```

### ä»£ç æ£€æŸ¥
```bash
flutter analyze    # é™æ€ä»£ç åˆ†æ
flutter test       # è¿è¡Œå•å…ƒæµ‹è¯•
```

## ğŸ“± æ„å»ºéƒ¨ç½²

### è·¨å¹³å°æ„å»º
```bash
# macOS
flutter build macos
./build_macos.sh --all    # å®Œæ•´æ„å»ºæµç¨‹ï¼ˆæ¸…ç† -> æ„å»º -> æ‰“åŒ… DMGï¼‰

# Windows
flutter build windows
./build_windows.ps1 -All  # å®Œæ•´æ„å»ºæµç¨‹ï¼ˆæ¸…ç† -> æ„å»º -> æ‰“åŒ… ZIPï¼‰

# Web
flutter build web

# ç§»åŠ¨ç«¯
flutter build apk
flutter build ios

# æ„å»ºè„šæœ¬é€‰é¡¹
./build_macos.sh -c    # ä»…æ¸…ç†
./build_macos.sh -b    # ä»…æ„å»º
./build_macos.sh -p    # ä»…æ‰“åŒ…
./build_macos.sh -a    # å®Œæ•´æµç¨‹
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æ ¸å¿ƒæ¨¡å—
```
lib/
â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ account.dart     # è´¦æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ transaction.dart # äº¤æ˜“æ¨¡å‹
â”‚   â””â”€â”€ balance_history.dart # ä½™é¢å†å²
â”œâ”€â”€ services/            # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ data_service.dart # æ•°æ®ç®¡ç†æœåŠ¡
â”‚   â””â”€â”€ database_helper.dart # æ•°æ®åº“ç®¡ç†
â”œâ”€â”€ screens/             # é¡µé¢
â”‚   â”œâ”€â”€ home_screen.dart # ä¸»é¡µé¢ï¼ˆæ ‡ç­¾å¯¼èˆªï¼‰
â”‚   â”œâ”€â”€ account_detail_screen.dart # è´¦æˆ·è¯¦æƒ…
â”‚   â”œâ”€â”€ history_screen.dart # å†å²è®°å½•
â”‚   â”œâ”€â”€ history_table_screen.dart # å†å²è¡¨æ ¼
â”‚   â””â”€â”€ settings_screen.dart # è®¾ç½®é¡µé¢
â”œâ”€â”€ widgets/             # ç»„ä»¶
â”‚   â”œâ”€â”€ account_card.dart # è´¦æˆ·å¡ç‰‡
â”‚   â”œâ”€â”€ balance_chart.dart # ä½™é¢å›¾è¡¨
â”‚   â”œâ”€â”€ add_account_dialog.dart # æ·»åŠ è´¦æˆ·
â”‚   â””â”€â”€ add_transaction_dialog.dart # æ·»åŠ äº¤æ˜“
â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”‚   â””â”€â”€ logger.dart     # æ—¥å¿—ç³»ç»Ÿ
â””â”€â”€ main.dart           # åº”ç”¨å…¥å£
```

### æ•°æ®æ¨¡å‹è®¾è®¡
- **Account**: è´¢åŠ¡è´¦æˆ·å®ä½“ï¼Œæ”¯æŒå¤šç§è´¦æˆ·ç±»å‹
- **Transaction**: äº¤æ˜“è®°å½•ï¼ŒåŒ…å«æ”¶å…¥ã€æ”¯å‡ºã€è½¬è´¦ç±»å‹
- **BalanceHistory**: å‘¨æœŸæ€§ä½™é¢è®°å½•ï¼Œè‡ªåŠ¨å‘¨å…­è¿½è¸ª

### æ•°æ®æŒä¹…åŒ–
- ä½¿ç”¨ SQLite (`sqflite`) è¿›è¡Œæœ¬åœ°æ•°æ®å­˜å‚¨
- æ•°æ®åº“äº‹åŠ¡æ”¯æŒä¿è¯æ•°æ®ä¸€è‡´æ€§
- è‡ªåŠ¨å‘¨åº¦ä½™é¢è®°å½•æœºåˆ¶
- ç»“æ„åŒ–æ—¥å¿—ç³»ç»Ÿç”¨äºè°ƒè¯•å’Œç›‘æ§

## ğŸ“¦ ä¸»è¦ä¾èµ–

```yaml
dependencies:
  fl_chart: ^1.1.1          # æ•°æ®å¯è§†åŒ–å›¾è¡¨
  intl: ^0.20.2             # æ—¥æœŸæ ¼å¼åŒ–å’Œå›½é™…åŒ–
  sqflite: ^2.3.0           # SQLite æ•°æ®åº“
  path: ^1.9.0              # è·¯å¾„æ“ä½œå·¥å…·
  shared_preferences: ^2.4.2 # ç®€å•é”®å€¼å­˜å‚¨
  logging: ^1.3.0           # æ—¥å¿—æ¡†æ¶
  cupertino_icons: ^1.0.8   # iOS é£æ ¼å›¾æ ‡

dev_dependencies:
  flutter_lints: ^6.0.0     # Flutter ä»£ç è§„èŒƒæ£€æŸ¥
  flutter_test:             # å•å…ƒæµ‹è¯•æ¡†æ¶
```

## ğŸ”„ æ•°æ®æµ

1. **åº”ç”¨åˆå§‹åŒ–**:
   - æ•°æ®åº“åˆå§‹åŒ– (`DatabaseHelper`)
   - æ—¥å¿—ç³»ç»Ÿåˆå§‹åŒ– (`AppLogger`)

2. **è´¦æˆ·åˆ›å»º**: ç”¨æˆ·é€šè¿‡æ·»åŠ è´¦æˆ·å¯¹è¯æ¡†åˆ›å»ºè´¦æˆ·å¹¶è®¾ç½®åˆå§‹ä½™é¢
3. **äº¤æ˜“è®°å½•**: ç”¨æˆ·è®°å½•æ”¶å…¥ã€æ”¯å‡ºæˆ–è½¬è´¦äº¤æ˜“
4. **ä½™é¢è®°å½•**: ç”¨æˆ·æ‰‹åŠ¨è®°å½•ä»»æ„æ—¥æœŸçš„è´¦æˆ·ä½™é¢ (`DataService.recordBalancesForDate()`)
5. **å†å²è¿½è¸ª**: æ‰‹åŠ¨è®°å½•å„è´¦æˆ·ä½™é¢
6. **å›¾è¡¨å±•ç¤º**: ä½™é¢å›¾è¡¨å±•ç¤ºå†å²è¶‹åŠ¿å’Œå˜åŒ–
7. **è¡¨æ ¼è§†å›¾**: å†å²ä½™é¢è¡¨æ ¼å±•ç¤ºå¤šè´¦æˆ·æ•°æ®
8. **æ•°æ®å­˜å‚¨**: æ‰€æœ‰æ•°æ®é€šè¿‡ SQLite æ•°æ®åº“æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨

## ğŸ¨ ç•Œé¢ç‰¹è‰²

- **Material Design 3**: éµå¾ªæœ€æ–° Material Design è®¾è®¡è§„èŒƒ
- **å“åº”å¼å¸ƒå±€**: é€‚é…å¤šç§å±å¹•å°ºå¯¸å’Œè®¾å¤‡
- **ç›´è§‚äº¤äº’**: ç®€æ´æ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢
- **è‰²å½©ç³»ç»Ÿ**: è‡ªå®šä¹‰è´¦æˆ·é¢œè‰²ä¸»é¢˜
- **å›¾è¡¨å±•ç¤º**: ä¸°å¯Œçš„æ•°æ®å¯è§†åŒ–æ•ˆæœ

## ğŸ”’ æ•°æ®å®‰å…¨ä¸æ—¥å¿—

- SQLite æ•°æ®åº“æœ¬åœ°å­˜å‚¨ï¼Œä¿æŠ¤éšç§
- æ— éœ€ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿æ•°æ®å®‰å…¨
- å®Œæ•´çš„äº‹åŠ¡æ”¯æŒä¿è¯æ•°æ®ä¸€è‡´æ€§
- ç»“æ„åŒ–æ—¥å¿—ç³»ç»Ÿç”¨äºè°ƒè¯•å’Œç›‘æ§
- ç”¨æˆ·å®Œå…¨æ§åˆ¶è‡ªå·±çš„è´¢åŠ¡æ•°æ®

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- é¡¹ç›®ä½¿ç”¨ Flutter Lints è¿›è¡Œä»£ç åˆ†æ
- éµå¾ª Material Design 3 è®¾è®¡æ¨¡å¼
- å®ç° `setState` è¿›è¡ŒçŠ¶æ€ç®¡ç†
- ä½¿ç”¨ async/await å¤„ç†å¼‚æ­¥æ“ä½œ
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- æ‰€æœ‰ä»£ç æ³¨é‡Šä½¿ç”¨ä¸­æ–‡ç¼–å†™

### è´¡çŒ®æŒ‡å—
1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹ [é¡¹ç›®æ–‡æ¡£](./CLAUDE.md) è·å–è¯¦ç»†ä¿¡æ¯
2. æäº¤ [Issue](https://github.com/your-username/accounts_flow/issues)
3. å‚ä¸ [è®¨è®º](https://github.com/your-username/accounts_flow/discussions)

---

**Accounts Flow** - è®©ä¸ªäººè´¢åŠ¡ç®¡ç†å˜å¾—ç®€å•è€Œé«˜æ•ˆ ğŸ’™
